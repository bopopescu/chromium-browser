# Perf dashboard API

## Authenticating
The perf dashboard API uses OAuth to authenticate. You must either have a
Google account or a service account to access the API. See
[examples](/dashboard/dashboard/examples/) directory
for examples of how to access the API.

## Alerts
URL patterns for accessing alerts:

 * `/api/alerts/bug_id/id`: Get all the alerts associated with bug `id`.
 * `/api/alerts/keys/comma_sep_list`: Get the alerts with the given list of
   keys, separated by commas.
 * `/api/alerts/rev/revision`: Get all the alerts with `revision` in the
   revision range. Note that `revision` should be the revision that is sent to
   the perf dashboard as the point ID; for ChromiumPerf it is the chromium
   commit pos; for v8 master it is the v8 commit pos.
 * `/api/alerts/history/N`: Get all the alerts for N days (defaults to 7).
   Can specify a `sheriff` param in postdata, defaults to `Chromium Perf
   Sheriff`. Can specify an `improvements` param equal to 1 to include
   improvements.

No matter what the url pattern, the alerts API returns a JSON list of alerts
with the following fields:

 * `date`: Date the alert fired in YYYY-MM-DD format
 * `master`: Buildbot master the alert fired on.
 * `bot`: Buildbot device type the alert fired on (for example, "nexus 7").
 * `test`: Test path of the test the alert was fired on. This contains the
    benchmark/metric/page, like page_cycler/time_to_load/cnn.
 * `ref_test`: If there was a ref build, the test_path of the ref build.
 * `testsuite`: Name of the benchmark the aler was fired on.
 * `recovered`: Whether the dashboard was able to detect that the alert
    recovered. Note that this is not possible to detect perfectly, as perf
    graphs are noisy and there may be multiple performance changes. The
    dashboard errs on the side of false negatives, only marking an alert
    recovered if it finds a change almost exactly opposite of the one in the
    alert.
 * `percent_changed`: The percentage difference before/after the alert.
 * `absolute_delta`: The difference before/after the alert, in `units`.
 * `median_before_anomaly`: The median value of the chart segment before the
    alert, in `units`.
 * `median_after_anomaly`: The median value of the chart segment after the
    alert, in `units`.
 * `units`: The units for the metric that was alerted on (for example,
    milliseconds).
 * `improvement`: true if the alert fired on an improvement; false otherwise.
    (note improvements can be filtered out of the history API with the
    `improvements` param).
 * `start_revision`: Start of the revision range where the change occurred.
 * `end_revision`: End of the revision range where the change occurred.
 * `dashboard_link`: Link to view the chart with the alert on the perf
    dashboard.
 * `bug_id`: The bug linked to the alert in the perf dashboard. -1 means the
    perf sheriff marked the bug invalid, and -2 means ignored (known issue).
    An empty bug id means the alert has not been triaged yet.
 * `group`: Unique id of the group the alert was placed in by the perf
    dashboard.
 * `key`: Unique id of the alert, generated by the perf dashboard.